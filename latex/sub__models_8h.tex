\hypertarget{sub__models_8h}{}\doxysection{sub\+\_\+models.\+h File Reference}
\label{sub__models_8h}\index{sub\_models.h@{sub\_models.h}}


Header file for sub model functions.  


Include dependency graph for sub\+\_\+models.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{sub__models_8h_a1c3598c177755e3ca9d3bde1ace7c0e0}{sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+get\+\_\+used\+\_\+jac\+\_\+elem}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, \mbox{\hyperlink{struct_jacobian}{Jacobian}} $\ast$jac)
\begin{DoxyCompactList}\small\item\em Flag \mbox{\hyperlink{struct_jacobian}{Jacobian}} elements used by this sub model. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_ad0578f51652ce992842c2e65c8d84e55}{sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+update\+\_\+ids}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, int $\ast$deriv\+\_\+ids, \mbox{\hyperlink{struct_jacobian}{Jacobian}} jac)
\begin{DoxyCompactList}\small\item\em Update the time derivative and Jacbobian array indices. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_ae2d20ec59ac4397714d038f51324809d}{sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+update\+\_\+env\+\_\+state}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data)
\begin{DoxyCompactList}\small\item\em Update sub model data for new environmental conditions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a2f46f791a4a74c77e283b5afb91911aa}{sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+calculate}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data)
\begin{DoxyCompactList}\small\item\em Perform the sub-\/model calculations for the current model state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a50d2ccc5a5c4b40019447f6b7dd5feab}{sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+get\+\_\+jac\+\_\+contrib}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data, realtype $\ast$J, double time\+\_\+step)
\begin{DoxyCompactList}\small\item\em Add contributions to the \mbox{\hyperlink{struct_jacobian}{Jacobian}} from derivates calculated using the output of this sub model. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a57f2820ce385881014fed09a82ae5364}{sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+print}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data)
\begin{DoxyCompactList}\small\item\em Print the PDFi\+TE Activity sub model parameters. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a6895ac51f6122ce830f30d8b1f09d052}{sub\+\_\+model\+\_\+\+UNIFAC\+\_\+get\+\_\+used\+\_\+jac\+\_\+elem}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, \mbox{\hyperlink{struct_jacobian}{Jacobian}} $\ast$jac)
\begin{DoxyCompactList}\small\item\em Get the \mbox{\hyperlink{struct_jacobian}{Jacobian}} elements used for a particular row of the matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a2674d98846a9c4933d56156ec1f0deb5}{sub\+\_\+model\+\_\+\+UNIFAC\+\_\+update\+\_\+ids}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, int $\ast$deriv\+\_\+ids, \mbox{\hyperlink{struct_jacobian}{Jacobian}} jac)
\begin{DoxyCompactList}\small\item\em Update stored ids for elements used within a row of the \mbox{\hyperlink{struct_jacobian}{Jacobian}} matrix. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a43f3628a20f1bf545034554576e9c85c}{sub\+\_\+model\+\_\+\+UNIFAC\+\_\+update\+\_\+env\+\_\+state}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data)
\begin{DoxyCompactList}\small\item\em Update sub-\/model data for new environmental conditions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a91d55564c556bf61d6bf0ccac7b43e4b}{sub\+\_\+model\+\_\+\+UNIFAC\+\_\+calculate}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data)
\begin{DoxyCompactList}\small\item\em Perform the sub-\/model calculations for the current model state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a0301d06b09af90fcfe49f9a1ba7c6742}{sub\+\_\+model\+\_\+\+UNIFAC\+\_\+get\+\_\+jac\+\_\+contrib}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data, realtype $\ast$J, double time\+\_\+step)
\begin{DoxyCompactList}\small\item\em Add contributions to the \mbox{\hyperlink{struct_jacobian}{Jacobian}} from derivates calculated using the output of this sub model. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_ac47310b67585f52b71ff6aac1c603ba5}{sub\+\_\+model\+\_\+\+UNIFAC\+\_\+print}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data)
\begin{DoxyCompactList}\small\item\em Print the sub model data. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a0c47a7f4b91fa19f71a1a69237a6754e}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+get\+\_\+used\+\_\+jac\+\_\+elem}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, \mbox{\hyperlink{struct_jacobian}{Jacobian}} $\ast$jac)
\begin{DoxyCompactList}\small\item\em Flag \mbox{\hyperlink{struct_jacobian}{Jacobian}} elements used by this sub model. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_af42c83e6bae3321e17f4bf21620e36ed}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+update\+\_\+ids}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, int $\ast$deriv\+\_\+ids, \mbox{\hyperlink{struct_jacobian}{Jacobian}} jac)
\begin{DoxyCompactList}\small\item\em Update the time derivative and Jacbobian array indices. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a915b2885008bfb4bd6c9c37efd6e8d82}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+update\+\_\+env\+\_\+state}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data)
\begin{DoxyCompactList}\small\item\em Update sub model data for new environmental conditions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a6639a32646d84e02917b64167f36ea89}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+calculate}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data)
\begin{DoxyCompactList}\small\item\em Do pre-\/derivative calculations. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_aa6bf886e4a9fadb02913dab07e19018b}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+get\+\_\+jac\+\_\+contrib}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data, double $\ast$sub\+\_\+model\+\_\+env\+\_\+data, \mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$model\+\_\+data, realtype $\ast$J, double time\+\_\+step)
\begin{DoxyCompactList}\small\item\em Add contributions to the \mbox{\hyperlink{struct_jacobian}{Jacobian}} from derivates calculated using the output of this sub model. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sub__models_8h_a74a95ee9cc01c0905493fcb19e00c8b0}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+print}} (int $\ast$sub\+\_\+model\+\_\+int\+\_\+data, double $\ast$sub\+\_\+model\+\_\+float\+\_\+data)
\begin{DoxyCompactList}\small\item\em Print the ZSR Aerosol Water sub model parameters. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file for sub model functions. 



Definition in file \mbox{\hyperlink{sub__models_8h_source}{sub\+\_\+models.\+h}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sub__models_8h_a2f46f791a4a74c77e283b5afb91911aa}\label{sub__models_8h_a2f46f791a4a74c77e283b5afb91911aa}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_PDFiTE\_calculate@{sub\_model\_PDFiTE\_calculate}}
\index{sub\_model\_PDFiTE\_calculate@{sub\_model\_PDFiTE\_calculate}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_PDFiTE\_calculate()}{sub\_model\_PDFiTE\_calculate()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+calculate (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data }\end{DoxyParamCaption})}



Perform the sub-\/model calculations for the current model state. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data including the current state and environmental conditions \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source_l00167}{167}} of file \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source}{sub\+\_\+model\+\_\+\+PDFi\+TE.\+c}}.

Here is the caller graph for this function\+:
% FIG 2
\mbox{\Hypertarget{sub__models_8h_a50d2ccc5a5c4b40019447f6b7dd5feab}\label{sub__models_8h_a50d2ccc5a5c4b40019447f6b7dd5feab}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_PDFiTE\_get\_jac\_contrib@{sub\_model\_PDFiTE\_get\_jac\_contrib}}
\index{sub\_model\_PDFiTE\_get\_jac\_contrib@{sub\_model\_PDFiTE\_get\_jac\_contrib}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_PDFiTE\_get\_jac\_contrib()}{sub\_model\_PDFiTE\_get\_jac\_contrib()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+get\+\_\+jac\+\_\+contrib (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data,  }\item[{realtype $\ast$}]{J,  }\item[{double}]{time\+\_\+step }\end{DoxyParamCaption})}



Add contributions to the \mbox{\hyperlink{struct_jacobian}{Jacobian}} from derivates calculated using the output of this sub model. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data \\
\hline
{\em J} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} to be calculated \\
\hline
{\em time\+\_\+step} & Current time step in \mbox{[}s\mbox{]} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source_l00277}{277}} of file \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source}{sub\+\_\+model\+\_\+\+PDFi\+TE.\+c}}.

Here is the caller graph for this function\+:
% FIG 3
\mbox{\Hypertarget{sub__models_8h_a1c3598c177755e3ca9d3bde1ace7c0e0}\label{sub__models_8h_a1c3598c177755e3ca9d3bde1ace7c0e0}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_PDFiTE\_get\_used\_jac\_elem@{sub\_model\_PDFiTE\_get\_used\_jac\_elem}}
\index{sub\_model\_PDFiTE\_get\_used\_jac\_elem@{sub\_model\_PDFiTE\_get\_used\_jac\_elem}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_PDFiTE\_get\_used\_jac\_elem()}{sub\_model\_PDFiTE\_get\_used\_jac\_elem()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+get\+\_\+used\+\_\+jac\+\_\+elem (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{\mbox{\hyperlink{struct_jacobian}{Jacobian}} $\ast$}]{jac }\end{DoxyParamCaption})}



Flag \mbox{\hyperlink{struct_jacobian}{Jacobian}} elements used by this sub model. 

activity sub models are assumed to be at equilibrium


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em jac} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source_l00073}{73}} of file \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source}{sub\+\_\+model\+\_\+\+PDFi\+TE.\+c}}.

Here is the call graph for this function\+:
% FIG 4
Here is the caller graph for this function\+:
% FIG 5
\mbox{\Hypertarget{sub__models_8h_a57f2820ce385881014fed09a82ae5364}\label{sub__models_8h_a57f2820ce385881014fed09a82ae5364}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_PDFiTE\_print@{sub\_model\_PDFiTE\_print}}
\index{sub\_model\_PDFiTE\_print@{sub\_model\_PDFiTE\_print}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_PDFiTE\_print()}{sub\_model\_PDFiTE\_print()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+print (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data }\end{DoxyParamCaption})}



Print the PDFi\+TE Activity sub model parameters. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source_l00462}{462}} of file \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source}{sub\+\_\+model\+\_\+\+PDFi\+TE.\+c}}.

Here is the caller graph for this function\+:
% FIG 6
\mbox{\Hypertarget{sub__models_8h_ae2d20ec59ac4397714d038f51324809d}\label{sub__models_8h_ae2d20ec59ac4397714d038f51324809d}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_PDFiTE\_update\_env\_state@{sub\_model\_PDFiTE\_update\_env\_state}}
\index{sub\_model\_PDFiTE\_update\_env\_state@{sub\_model\_PDFiTE\_update\_env\_state}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_PDFiTE\_update\_env\_state()}{sub\_model\_PDFiTE\_update\_env\_state()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+update\+\_\+env\+\_\+state (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data }\end{DoxyParamCaption})}



Update sub model data for new environmental conditions. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source_l00137}{137}} of file \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source}{sub\+\_\+model\+\_\+\+PDFi\+TE.\+c}}.

Here is the caller graph for this function\+:
% FIG 7
\mbox{\Hypertarget{sub__models_8h_ad0578f51652ce992842c2e65c8d84e55}\label{sub__models_8h_ad0578f51652ce992842c2e65c8d84e55}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_PDFiTE\_update\_ids@{sub\_model\_PDFiTE\_update\_ids}}
\index{sub\_model\_PDFiTE\_update\_ids@{sub\_model\_PDFiTE\_update\_ids}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_PDFiTE\_update\_ids()}{sub\_model\_PDFiTE\_update\_ids()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+PDFi\+TE\+\_\+update\+\_\+ids (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{int $\ast$}]{deriv\+\_\+ids,  }\item[{\mbox{\hyperlink{struct_jacobian}{Jacobian}}}]{jac }\end{DoxyParamCaption})}



Update the time derivative and Jacbobian array indices. 

activity sub models are assumed to be at equilibrium


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em deriv\+\_\+ids} & Indices for state array variables on the solver state array \\
\hline
{\em jac} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source_l00105}{105}} of file \mbox{\hyperlink{sub__model___p_d_fi_t_e_8c_source}{sub\+\_\+model\+\_\+\+PDFi\+TE.\+c}}.

Here is the call graph for this function\+:
% FIG 8
Here is the caller graph for this function\+:
% FIG 9
\mbox{\Hypertarget{sub__models_8h_a91d55564c556bf61d6bf0ccac7b43e4b}\label{sub__models_8h_a91d55564c556bf61d6bf0ccac7b43e4b}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_UNIFAC\_calculate@{sub\_model\_UNIFAC\_calculate}}
\index{sub\_model\_UNIFAC\_calculate@{sub\_model\_UNIFAC\_calculate}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_UNIFAC\_calculate()}{sub\_model\_UNIFAC\_calculate()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+UNIFAC\+\_\+calculate (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data }\end{DoxyParamCaption})}



Perform the sub-\/model calculations for the current model state. 

These calculations are based on equations (1)--(9) in {\bfseries [Marcolli2005]}. Variable names used in the derivation of the \mbox{\hyperlink{struct_jacobian}{Jacobian}} equations are adopted here for consistency. Specifically, these are\+:  \[
  \begin{align*}
   \sigma & \equiv \displaystyle\sum_k r_k x_k, \\
   \tau & \equiv \displaystyle\sum_k q_k x_k, \\
   \mu & \equiv \displaystyle\sum_j x_j l_j, \\
   c_{xX} & = \frac{1}{\displaystyle\sum_j
                  \displaystyle\sum_i v_j^{(i)} x_i}, \textrm{ and} \\
   \Pi & \equiv \displaystyle\sum_n Q_n X_n. \\
  \end{align*}
\] Using these variables and subscript $j$ for the species whose activity is being calculated for easy comparison with the \mbox{\hyperlink{struct_jacobian}{Jacobian}} calculations, equations (1)--(9) in {\bfseries [Marcolli2005]} become\+:  \[
  \begin{align*}
   \ln{\gamma_j} & = \ln{\gamma_j^C} + \ln{\gamma_j^R} & (1) \\
   \alpha_w & = \gamma_w x_w & (2) \\
   \ln{\gamma_j^C} & = \ln{\frac{\Phi_j}{x_j}}
                      + \frac{z}{2}q_j\ln{\frac{\Theta_j}{\Phi_j}}
                      + l_j
                      - \frac{\Phi_j}{x_j}\mu & (3) \\
   \Phi_j & = \frac{r_j x_j}{\sigma}; \qquad
   \Theta_j = \frac{q_j x_j}{\tau} & (4) \\
   l_j & = \frac{z}{2}\left(r_j - q_j\right) - r_j + 1 & (5) \\
   r_j & = \displaystyle\sum_k v_k^{(j)}R_k; \qquad
   q_j   = \displaystyle\sum_k v_k^{(j)}Q_k & (6) \\
   \ln{\gamma_j^R} & = \displaystyle\sum_k v_k^{(j)} \left[
                       \ln{\Gamma_k} - \ln{\Gamma_k^{(j)}}\right] & (7) \\
   \ln{\Gamma_k} & = Q_k \left[ 1 - \ln{\Xi_k} -
                     \displaystyle\sum_m\frac{\Theta_m\Phi_{km}}{\Xi_m}
                     \right] & (8) \\
   \Theta_m & = \frac{Q_m X_m}{\Pi}; \qquad
   \Psi_{mn} = \mathrm{exp}\left[\frac{-a_{mn}}{T}\right] & (9) \\
  \end{align*}
\]


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data including the current state and environmental conditions \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source_l00226}{226}} of file \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source}{sub\+\_\+model\+\_\+\+UNIFAC.\+c}}.

Here is the caller graph for this function\+:
% FIG 10
\mbox{\Hypertarget{sub__models_8h_a0301d06b09af90fcfe49f9a1ba7c6742}\label{sub__models_8h_a0301d06b09af90fcfe49f9a1ba7c6742}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_UNIFAC\_get\_jac\_contrib@{sub\_model\_UNIFAC\_get\_jac\_contrib}}
\index{sub\_model\_UNIFAC\_get\_jac\_contrib@{sub\_model\_UNIFAC\_get\_jac\_contrib}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_UNIFAC\_get\_jac\_contrib()}{sub\_model\_UNIFAC\_get\_jac\_contrib()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+UNIFAC\+\_\+get\+\_\+jac\+\_\+contrib (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data,  }\item[{realtype $\ast$}]{J,  }\item[{double}]{time\+\_\+step }\end{DoxyParamCaption})}



Add contributions to the \mbox{\hyperlink{struct_jacobian}{Jacobian}} from derivates calculated using the output of this sub model. 

This derivation starts from equations (1)--(9) in {\bfseries [Marcolli2005]}. The mole fraction of species $i$ is calculated as\+:  \[
   x_i = \frac{m_i}{m_T},
\] where $m_T = \displaystyle\sum_j m_j$, $m_i = \frac{c_i}{\mathrm{MW}_i}$ is the number in moles of species $i$, $c_i$ is its mass concentration ( $\mathrm{ug} \: \mathrm{m}^{-3}$; the state variable), and $\mathrm{MW}_i$ is its molecular weight ( $\mathrm{ug} \: \mathrm{mol}^{-1}$). Thus,  \[
  \begin{align*}
   \frac{\partial x_i}{\partial c_i} & =
      \frac{(m_T-m_i)}{\mathrm{MW}_i m_T^2}, \textrm{ and} \\
   \frac{\partial x_j}{\partial c_i} & =
      -\frac{m_j}{\mathrm{MW}_i m_T^2} \quad \text{for } i\neq j. \\
  \end{align*}
\] The partial derivative of $\Phi_j$ (Eq. 4) with respect to $c_i$ is derived as follows\+:  \[
  \begin{align*}
    \frac{\partial r_i x_i}{\partial c_i} & =
       r_i \frac{(m_T-m_i)}{\mathrm{MW}_i m_T^2}, \\
    \frac{\partial r_j x_j}{\partial c_i} & =
       - r_j \frac{m_j}{\mathrm{MW}_i m_T^2}
       \quad \text{for } i\neq j, \\
    \frac{\partial \displaystyle\sum_j r_j x_j}{\partial c_i} & =
       \frac{1}{\mathrm{MW}_i m_T}\left[r_i -
       \displaystyle\sum_j r_j x_j\right], \\
    \sigma & \equiv \displaystyle\sum_k r_k x_k, \\
    \frac{\partial \Phi_j}{\partial c_i} & =
    \frac{r_j}{\mathrm{MW}_i m_T \sigma^2}
    \left(\sigma^{\prime} - x_j r_i \right)
    , \qquad
        \sigma^{\prime} =
        \begin{cases}
          \sigma  & \quad \text{if } i=j \\
          0    & \quad \text{if } i\neq j
        \end{cases} \\
  \end{align*}
\] Similarly, the partial derivative of $\Theta_j$ (Eq. 4) with respect to $c_i$ is\+:  \[
\begin{align*}
   \tau & \equiv \displaystyle\sum_k q_k x_k, \\
   \frac{\partial \Theta_j}{\partial c_i} & =
    \frac{q_j}{\mathrm{MW}_i m_T \tau^2}
    \left(\tau^{\prime} - x_j q_i \right)
    , \qquad
        \tau^{\prime} =
        \begin{cases}
          \tau  & \quad \text{if } i=j \\
          0    & \quad \text{if } i\neq j
        \end{cases} \\
\end{align*}
\] From Eqs 5 and 6,  \[
   \frac{\partial r_j}{\partial c_i} =
   \frac{\partial q_j}{\partial c_i} =
   \frac{\partial l_j}{\partial c_i} = 0.
\] For the last term in Eq. 3,  \[
\begin{align*}
   \mu & \equiv \displaystyle\sum_j x_j l_j, \\
   \frac{\partial \mu}{\partial c_i} & = \frac{1}{\mathrm{MW}_i m_T}
       \left( l_i - \mu \right). \\
\end{align*}
\] The partial derivative of the full combinatorial term (Eq. 3) is\+:  \[
\begin{align*}
   \frac{\partial \ln{\gamma^C_j}}{\partial c_i} & =
       \frac{x_j}{\Phi_j}\frac{\left( \frac{\partial \Phi_j}{\partial c_i}
           x_j - \Phi_j\frac{\partial x_j}{\partial c_i} \right)}{x_j^2} \\
     & \quad + \frac{z}{2}q_j\frac{\Phi_j}{\Theta_j}\frac{\left(
           \frac{\partial \Theta_j}{\partial c_i} \Phi_j -
           \Theta_j\frac{\partial \Phi_j}{\partial c_i}\right)}{\Phi_j^2} \\
     & \quad - \frac{\left[ \left( \frac{\partial \Phi_j}{\partial c_i} \mu +
            \Phi_j \frac{\partial \mu}{\partial c_i} \right) x_j
            - \Phi_j \mu \frac{\partial x_j}{\partial c_i} \right]}{x_j^2}.
\end{align*}
\] After some rearranging, this becomes\+:  \[
\begin{align*}
   \frac{\partial \ln{\gamma^C_j}}{\partial c_i} & =
       \frac{1}{\Phi_j}\frac{\partial \Phi_j}{\partial c_i}
       - \frac{1}{x_j}\frac{\partial x_j}{\partial c_i} \\
     & \quad + \frac{z}{2}q_j\left(
       \frac{1}{\Theta_j}\frac{\partial \Theta_j}{\partial c_i}
       - \frac{1}{\Phi_j}\frac{\partial \Phi_j}{\partial c_i}\right) \\
     & \quad - \frac{\partial \Phi_j}{\partial c_i}\frac{\mu}{x_j}
     - \frac{\Phi_j}{x_j}\frac{\partial \mu}{\partial c_i}
     + \frac{\Phi_j \mu}{x_j^2}\frac{\partial x_j}{\partial c_i}
\end{align*}
\] As $\sigma$, $\tau$, and $\mu$ are independent of species $i$, these can be calculated outside the loop over the independent species. Moving to the residual term (Eq. 7), the mole fraction ( $X_p$) of group $p$ in the mixture is related to the mole fraction ( $x_j$) of species $j$ according to\+:  \[
   X_p = c_{xX} \omega_p, \textrm{ where }
   \omega_p \equiv \displaystyle\sum_j v_p^{(j)} x_j, \\
\] and $c_{xX}$ is a conversion factor accounting for the difference in total species and total group number concentrations\+:  \[
   c_{xX} = \frac{1}{\displaystyle\sum_p \omega_p}.
\] Partial derivatives of the group interaction terms in Eq 9, $\Theta_m$ and $\Psi_{mn}$, with respect to $c_i$ are derived as follows\+:  \[
  \begin{align*}
    \frac{\partial c_{xX}}{\partial c_i} & = - c_{xX}^2
      \displaystyle\sum_p \displaystyle\sum_j v_p^{(j)}
      \frac{\partial x_j}{\partial c_i}
      = - \frac{c_{xX}^2}{\mathrm{MW}_im_T} \left(
            \displaystyle\sum_p v_p^{(i)} -
            \displaystyle\sum_p \omega_p \right), \\
      & = \frac{c_{xX}}{\mathrm{MW}_im_T} \left(
              1 - c_{xX} \displaystyle\sum_p v_p^{(i)} \right), \\
    \frac{\partial X_n}{\partial c_i} & =
      c_{xX} \displaystyle\sum_j v_n^{(j)}
           \frac{\partial x_j}{\partial c_i}
      + \frac{\partial c_{xX}}{\partial c_i} \omega_n, \\
      & = \frac{c_{xX}}{\mathrm{MW}_im_T}
                 \left( v_n^{(i)} - \omega_n \right)
            + \frac{c_{xX}}{\mathrm{MW}_im_T}
                 \left( \omega_n - c_{xX}\omega_n
                     \displaystyle\sum_p v_p^{(i)} \right), \\
       & = \frac{c_{xX}}{\mathrm{MW}_im_T} \left(
                 v_n^{(i)} - X_n
                     \displaystyle\sum_p v_p^{(i)} \right), \\
    \Pi & \equiv \displaystyle\sum_n Q_n X_n, \\
    \frac{\partial \Pi}{\partial c_i} & =
       \displaystyle\sum_n Q_n
       \frac{c_{xX}}{\mathrm{MW}_i m_T}\left(
           v_n^{(i)} - X_n \displaystyle\sum_p v_p^{(i)} \right), \\
    & = \frac{c_{xX}}{\mathrm{MW}_i m_T} \left(
           \displaystyle\sum_n Q_n v_n^{(i)} -
           \Pi \displaystyle\sum_p v_p^{(i)} \right), \\
    \frac{\partial \Theta_m}{\partial c_i} & = \frac{
    \left(Q_m\frac{\partial X_m}{\partial c_i} \Pi -
        Q_m X_m \frac{\partial \Pi}{\partial c_i} \right)}{\Pi^2} , \\
    & = \frac{c_{xX} Q_m}{\mathrm{MW}_im_T\Pi^2} \left[
             \left( \Pi v_m^{(i)} - \Pi X_m
                 \displaystyle\sum_p v_p^{(i)} \right) -
             \left( X_m \displaystyle\sum_n Q_n v_n^{(i)} -
                 X_m \Pi \displaystyle\sum_p v_p^{(i)} \right) \right], \\
    & = \frac{c_{xX} Q_m}{\mathrm{MW}_im_T\Pi^2} \left[
           \Pi v_m^{(i)} - X_m\displaystyle\sum_n Q_n v_n^{(i)}\right],
       \textrm{ and} \\
   \frac{\partial \Psi_{mn}}{\partial c_i} & = 0
  \end{align*}
\] The partial derivative of the group residual activity coefficient (Eq. 8) with respect to $c_i$ is\+:  \[
  \begin{align*}
   \frac{\partial \ln{\Gamma_k}}{\partial c_i} & = Q_k \left[
     - \frac{1}{\displaystyle\sum_m\Theta_m\Psi_{mk}}
       \displaystyle\sum_m\frac{\partial\Theta_m}{\partial c_i}\Psi_{mk} \\
     \quad - \displaystyle\sum_m\left(
       \frac{\partial\Theta_m}{\partial c_i}\Psi_{km}
         \displaystyle\sum_n\Theta_n\Psi_{nm}
     - \Theta_m\Psi_{km}\displaystyle\sum_n
         \frac{\partial\Theta_n}{\partial c_i}
         \Psi_{nm}\right)/\left(
           \displaystyle\sum_n\Theta_n\Psi_{nm}\right)^2
     \right]
  \end{align*}
\] After some rearranging, this becomes\+:  \[
  \begin{align*}
   \Xi_m & \equiv \displaystyle\sum_n\Theta_n\Psi_{nm}, \\
   \frac{\partial \ln{\Gamma_k}}{\partial c_i} & =
     - Q_k \displaystyle\sum_m \left(
     \frac{\Psi_{mk}}{\Xi_k}\frac{\partial\Theta_m}{\partial c_i}
     + \frac{\Psi_{km}}{\Xi_m}
       \frac{\partial\Theta_m}{\partial c_i}
     - \frac{\Theta_m\Psi_{km}}
            {\Xi_m^2}
       \displaystyle\sum_n\frac{\partial\Theta_n}{\partial c_i}\Psi_{nm}
   \right)
  \end{align*}
\] The left side of the three bracketed terms in the above equation are independent of species $i$ and can be calculated outside of the loop over the independent species. The partial derivative of the full residual term with respect to $c_i$ is\+:  \[
  \begin{align*}
  \frac{\partial \ln{\Gamma_k^{(j)}}}{\partial c_i} & = 0 \\
  \frac{\partial \ln{\gamma_j^R}}{\partial c_i} & =
    \displaystyle\sum_k v_k^{(j)}
       \frac{\partial \ln{\Gamma_k}}{\partial c_i}
  \end{align*}
\] The overall equation for the partial derivative of $\gamma_j$ with respect to species $i$ is\+:  \[
   \frac{\partial\gamma_j}{\partial c_i} = \gamma_j \left(
     \frac{\partial\ln{\gamma_j^C}}{\partial c_i}
     + \frac{\partial\ln{\gamma_j^R}}{\partial c_i} \right)
\]


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data \\
\hline
{\em J} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} to be calculated \\
\hline
{\em time\+\_\+step} & Current time step \mbox{[}s\mbox{]} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source_l00575}{575}} of file \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source}{sub\+\_\+model\+\_\+\+UNIFAC.\+c}}.

Here is the caller graph for this function\+:
% FIG 11
\mbox{\Hypertarget{sub__models_8h_a6895ac51f6122ce830f30d8b1f09d052}\label{sub__models_8h_a6895ac51f6122ce830f30d8b1f09d052}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_UNIFAC\_get\_used\_jac\_elem@{sub\_model\_UNIFAC\_get\_used\_jac\_elem}}
\index{sub\_model\_UNIFAC\_get\_used\_jac\_elem@{sub\_model\_UNIFAC\_get\_used\_jac\_elem}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_UNIFAC\_get\_used\_jac\_elem()}{sub\_model\_UNIFAC\_get\_used\_jac\_elem()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+UNIFAC\+\_\+get\+\_\+used\+\_\+jac\+\_\+elem (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{\mbox{\hyperlink{struct_jacobian}{Jacobian}} $\ast$}]{jac }\end{DoxyParamCaption})}



Get the \mbox{\hyperlink{struct_jacobian}{Jacobian}} elements used for a particular row of the matrix. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em jac} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source_l00082}{82}} of file \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source}{sub\+\_\+model\+\_\+\+UNIFAC.\+c}}.

Here is the call graph for this function\+:
% FIG 12
Here is the caller graph for this function\+:
% FIG 13
\mbox{\Hypertarget{sub__models_8h_ac47310b67585f52b71ff6aac1c603ba5}\label{sub__models_8h_ac47310b67585f52b71ff6aac1c603ba5}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_UNIFAC\_print@{sub\_model\_UNIFAC\_print}}
\index{sub\_model\_UNIFAC\_print@{sub\_model\_UNIFAC\_print}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_UNIFAC\_print()}{sub\_model\_UNIFAC\_print()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+UNIFAC\+\_\+print (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data }\end{DoxyParamCaption})}



Print the sub model data. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source_l00771}{771}} of file \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source}{sub\+\_\+model\+\_\+\+UNIFAC.\+c}}.

Here is the caller graph for this function\+:
% FIG 14
\mbox{\Hypertarget{sub__models_8h_a43f3628a20f1bf545034554576e9c85c}\label{sub__models_8h_a43f3628a20f1bf545034554576e9c85c}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_UNIFAC\_update\_env\_state@{sub\_model\_UNIFAC\_update\_env\_state}}
\index{sub\_model\_UNIFAC\_update\_env\_state@{sub\_model\_UNIFAC\_update\_env\_state}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_UNIFAC\_update\_env\_state()}{sub\_model\_UNIFAC\_update\_env\_state()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+UNIFAC\+\_\+update\+\_\+env\+\_\+state (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data }\end{DoxyParamCaption})}



Update sub-\/model data for new environmental conditions. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source_l00129}{129}} of file \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source}{sub\+\_\+model\+\_\+\+UNIFAC.\+c}}.

Here is the caller graph for this function\+:
% FIG 15
\mbox{\Hypertarget{sub__models_8h_a2674d98846a9c4933d56156ec1f0deb5}\label{sub__models_8h_a2674d98846a9c4933d56156ec1f0deb5}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_UNIFAC\_update\_ids@{sub\_model\_UNIFAC\_update\_ids}}
\index{sub\_model\_UNIFAC\_update\_ids@{sub\_model\_UNIFAC\_update\_ids}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_UNIFAC\_update\_ids()}{sub\_model\_UNIFAC\_update\_ids()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+UNIFAC\+\_\+update\+\_\+ids (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{int $\ast$}]{deriv\+\_\+ids,  }\item[{\mbox{\hyperlink{struct_jacobian}{Jacobian}}}]{jac }\end{DoxyParamCaption})}



Update stored ids for elements used within a row of the \mbox{\hyperlink{struct_jacobian}{Jacobian}} matrix. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em deriv\+\_\+ids} & Indices for state array variables on the solver state array \\
\hline
{\em jac} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source_l00106}{106}} of file \mbox{\hyperlink{sub__model___u_n_i_f_a_c_8c_source}{sub\+\_\+model\+\_\+\+UNIFAC.\+c}}.

Here is the call graph for this function\+:
% FIG 16
Here is the caller graph for this function\+:
% FIG 17
\mbox{\Hypertarget{sub__models_8h_a6639a32646d84e02917b64167f36ea89}\label{sub__models_8h_a6639a32646d84e02917b64167f36ea89}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_ZSR\_aerosol\_water\_calculate@{sub\_model\_ZSR\_aerosol\_water\_calculate}}
\index{sub\_model\_ZSR\_aerosol\_water\_calculate@{sub\_model\_ZSR\_aerosol\_water\_calculate}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_ZSR\_aerosol\_water\_calculate()}{sub\_model\_ZSR\_aerosol\_water\_calculate()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+calculate (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data }\end{DoxyParamCaption})}



Do pre-\/derivative calculations. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data, including the state array \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source_l00216}{216}} of file \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water.\+c}}.

Here is the caller graph for this function\+:
% FIG 18
\mbox{\Hypertarget{sub__models_8h_aa6bf886e4a9fadb02913dab07e19018b}\label{sub__models_8h_aa6bf886e4a9fadb02913dab07e19018b}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_ZSR\_aerosol\_water\_get\_jac\_contrib@{sub\_model\_ZSR\_aerosol\_water\_get\_jac\_contrib}}
\index{sub\_model\_ZSR\_aerosol\_water\_get\_jac\_contrib@{sub\_model\_ZSR\_aerosol\_water\_get\_jac\_contrib}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_ZSR\_aerosol\_water\_get\_jac\_contrib()}{sub\_model\_ZSR\_aerosol\_water\_get\_jac\_contrib()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+get\+\_\+jac\+\_\+contrib (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data,  }\item[{realtype $\ast$}]{J,  }\item[{double}]{time\+\_\+step }\end{DoxyParamCaption})}



Add contributions to the \mbox{\hyperlink{struct_jacobian}{Jacobian}} from derivates calculated using the output of this sub model. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data \\
\hline
{\em J} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} to be calculated \\
\hline
{\em time\+\_\+step} & Current time step \mbox{[}s\mbox{]} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source_l00314}{314}} of file \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water.\+c}}.

Here is the caller graph for this function\+:
% FIG 19
\mbox{\Hypertarget{sub__models_8h_a0c47a7f4b91fa19f71a1a69237a6754e}\label{sub__models_8h_a0c47a7f4b91fa19f71a1a69237a6754e}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_ZSR\_aerosol\_water\_get\_used\_jac\_elem@{sub\_model\_ZSR\_aerosol\_water\_get\_used\_jac\_elem}}
\index{sub\_model\_ZSR\_aerosol\_water\_get\_used\_jac\_elem@{sub\_model\_ZSR\_aerosol\_water\_get\_used\_jac\_elem}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_ZSR\_aerosol\_water\_get\_used\_jac\_elem()}{sub\_model\_ZSR\_aerosol\_water\_get\_used\_jac\_elem()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+get\+\_\+used\+\_\+jac\+\_\+elem (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{\mbox{\hyperlink{struct_jacobian}{Jacobian}} $\ast$}]{jac }\end{DoxyParamCaption})}



Flag \mbox{\hyperlink{struct_jacobian}{Jacobian}} elements used by this sub model. 

ZSR aerosol water sub models are assumed to be at equilibrium


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em jac} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source_l00081}{81}} of file \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water.\+c}}.

Here is the call graph for this function\+:
% FIG 20
Here is the caller graph for this function\+:
% FIG 21
\mbox{\Hypertarget{sub__models_8h_a74a95ee9cc01c0905493fcb19e00c8b0}\label{sub__models_8h_a74a95ee9cc01c0905493fcb19e00c8b0}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_ZSR\_aerosol\_water\_print@{sub\_model\_ZSR\_aerosol\_water\_print}}
\index{sub\_model\_ZSR\_aerosol\_water\_print@{sub\_model\_ZSR\_aerosol\_water\_print}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_ZSR\_aerosol\_water\_print()}{sub\_model\_ZSR\_aerosol\_water\_print()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+print (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data }\end{DoxyParamCaption})}



Print the ZSR Aerosol Water sub model parameters. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source_l00445}{445}} of file \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water.\+c}}.

Here is the caller graph for this function\+:
% FIG 22
\mbox{\Hypertarget{sub__models_8h_a915b2885008bfb4bd6c9c37efd6e8d82}\label{sub__models_8h_a915b2885008bfb4bd6c9c37efd6e8d82}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_ZSR\_aerosol\_water\_update\_env\_state@{sub\_model\_ZSR\_aerosol\_water\_update\_env\_state}}
\index{sub\_model\_ZSR\_aerosol\_water\_update\_env\_state@{sub\_model\_ZSR\_aerosol\_water\_update\_env\_state}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_ZSR\_aerosol\_water\_update\_env\_state()}{sub\_model\_ZSR\_aerosol\_water\_update\_env\_state()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+update\+\_\+env\+\_\+state (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+env\+\_\+data,  }\item[{\mbox{\hyperlink{struct_model_data}{Model\+Data}} $\ast$}]{model\+\_\+data }\end{DoxyParamCaption})}



Update sub model data for new environmental conditions. 


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em sub\+\_\+model\+\_\+env\+\_\+data} & Pointer to the sub model environment-\/dependent data \\
\hline
{\em model\+\_\+data} & Pointer to the model data \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source_l00189}{189}} of file \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water.\+c}}.

Here is the caller graph for this function\+:
% FIG 23
\mbox{\Hypertarget{sub__models_8h_af42c83e6bae3321e17f4bf21620e36ed}\label{sub__models_8h_af42c83e6bae3321e17f4bf21620e36ed}} 
\index{sub\_models.h@{sub\_models.h}!sub\_model\_ZSR\_aerosol\_water\_update\_ids@{sub\_model\_ZSR\_aerosol\_water\_update\_ids}}
\index{sub\_model\_ZSR\_aerosol\_water\_update\_ids@{sub\_model\_ZSR\_aerosol\_water\_update\_ids}!sub\_models.h@{sub\_models.h}}
\doxysubsubsection{\texorpdfstring{sub\_model\_ZSR\_aerosol\_water\_update\_ids()}{sub\_model\_ZSR\_aerosol\_water\_update\_ids()}}
{\footnotesize\ttfamily void sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water\+\_\+update\+\_\+ids (\begin{DoxyParamCaption}\item[{int $\ast$}]{sub\+\_\+model\+\_\+int\+\_\+data,  }\item[{double $\ast$}]{sub\+\_\+model\+\_\+float\+\_\+data,  }\item[{int $\ast$}]{deriv\+\_\+ids,  }\item[{\mbox{\hyperlink{struct_jacobian}{Jacobian}}}]{jac }\end{DoxyParamCaption})}



Update the time derivative and Jacbobian array indices. 

ZSR aerosol water sub models are assumed to be at equilibrium


\begin{DoxyParams}{Parameters}
{\em sub\+\_\+model\+\_\+int\+\_\+data} & Pointer to the sub model integer data \\
\hline
{\em sub\+\_\+model\+\_\+float\+\_\+data} & Pointer to the sub model floating-\/point data \\
\hline
{\em deriv\+\_\+ids} & Indices for state array variables on the solver state array \\
\hline
{\em jac} & \mbox{\hyperlink{struct_jacobian}{Jacobian}} \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source_l00133}{133}} of file \mbox{\hyperlink{sub__model___z_s_r__aerosol__water_8c_source}{sub\+\_\+model\+\_\+\+ZSR\+\_\+aerosol\+\_\+water.\+c}}.

Here is the call graph for this function\+:
% FIG 24
Here is the caller graph for this function\+:
% FIG 25
