<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAMP: Boot CAMP: Part 0 - Why CAMP?</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/mhchem.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAMP<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Chemistry Across Multiple Phases</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Boot CAMP: Part 0 - Why CAMP? </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >We get it, there are CAMPing people and there are people who will never go CAMPing. If you're on the fence, this part of the tutorial describes the novel things CAMP can do, and why you should consider CAMPing. If you're already onboard, you can skip this section, pack your bags and move on to <a class="el" href="camp_tutorial_part_1.html">Boot CAMP: Part 1 - Box Model</a>.</p>
<p >There are three features of CAMP that set it apart from other approaches to solving chemical systems in atmospheric models. These are its <a class="el" href="camp_tutorial_part_0.html#bc0_ss_combined_solving">combined solving</a> of gas- and aerosol-phase chemistry and partitioning, its <a class="el" href="camp_tutorial_part_0.html#bc0_ss_runtime_config">run-time configuration</a> and its <a class="el" href="camp_tutorial_part_0.html#bc0_ss_portability">portability</a> across models with different ways of representing aerosol systems and different aerosol mircophysical schemes. These features are described in more detail below and are followed by an example of how a chemist doing laboratory experiments on atmospheric systems can use CAMP to <a class="el" href="camp_tutorial_part_0.html#bc0_ss_example">rapidly deploy</a> their new chemistry to a suite of atmospheric models.</p>
<p ><a class="anchor" id="bc0_ss_combined_solving"></a></p>
<h2><a class="anchor" id="autotoc_md17"></a>
Combined solving</h2>
<p >Typically, chemical systems are spread across several distinct modules within atmospheric models (<a class="el" href="camp_tutorial_part_0.html#bc0_fig_typical_model">Fig. 1</a>) These modules have often been developed independently and may require significant modification to incorporate new chemical processes (particularly when these span the gas and condensed phases) or to port the module to a new host model with its own set of existing modules. In addition, when interrelated processes with similar rates are solved in separate modules (like gas-phase reactions whose products partition to the condensed phase and undergo further reaction), artifacts from the separated solving can be introduced.</p>
<div class="image">
<img src="schematic_typical_model.png" alt=""/>
</div>
<p> <a class="anchor" id="bc0_fig_typical_model"></a>Fig. 1. A typical configuration for chemistry and chemistry-adjacent process in atmospheric models.</p>
<p >CAMP takes a difference approach to solving chemical systems. Instead of solving chemistry across a collection of modules, CAMP accepts rates for processes from modules that would typically directly update the model state (like emissions and deposition), and it uses an object-oriented approach to build an integrated multi-phase chemical system that includes emissions, deposition, gas-phase reactions including photolysis, partitioning between the gas and aerosol phase, and condensed phase reactions in any number of unique aerosol phases (organic, aqueous aerosol, cloud droplets, etc.; <a class="el" href="camp_tutorial_part_0.html#bc0_fig_campground">Fig. 2</a>). The collection of objects representing the chemistry and related processes are then solved as a single kinetic system, avoiding artifacts from operator splitting and greatly easing the processes of incorporating new multi-phase chemical processes.</p>
<div class="image">
<img src="schematic_CAMP_structure.png" alt=""/>
</div>
<p> <a class="anchor" id="bc0_fig_campground"></a>Fig. 2. Schematic showing how CAMP interacts with a host model and how integrated chemical systems are described within CAMP.</p>
<p >We'll see in later parts of the tutorial how these objects are generated and configured, and how CAMP works with the way your model describes aerosol systems (bins, modes, etc.).</p>
<p ><a class="anchor" id="bc0_ss_runtime_config"></a></p>
<h2><a class="anchor" id="autotoc_md18"></a>
Run-time configuration</h2>
<p >Another key feature of CAMP is its run-time configurability. As a stand-alone library, you don't need to modify any of the CAMP source code to incorporate CAMP into a new model, but you do need to tell CAMP about the chemical system you want to solve and how your model describes aerosol systems. This is primarily done at run-time using a collection of <code>JSON</code> input files (<a class="el" href="camp_tutorial_part_0.html#bc0_fig_json">Fig. 3</a>). (There are also ways to update certain CAMP parameters during a model run, like emissions and photolysis rates.) This opens up many exciting possibilities. To start, you can change the chemical mechanism without any changes to the model source code. Data assimilation and model sensitivity analyses can take advantage of the ability to adjust a wide variety of model parameters (everything from activation energies for Arrhenius reactions to ion-pair interaction parameters in activity calculations) without any changes to source code or recompilation of the model.</p>
<div class="image">
<img src="schematic_json_objects.png" alt=""/>
</div>
<p> <a class="anchor" id="bc0_fig_json"></a>Fig. 3. Examples of <code>JSON</code> input data used with CAMP.</p>
<p ><a class="anchor" id="bc0_ss_portability"></a></p>
<h2><a class="anchor" id="autotoc_md19"></a>
Portability</h2>
<p >The last thing we'll mention that makes CAMP unique is its portability across models with different aerosol representations. We'll describe how to make CAMP work with your model's aerosol representation in <a class="el" href="camp_tutorial_part_5.html">Boot CAMP: Part 5 - Aerosol Representations</a>. Here, we'll just provide an overview of how CAMP makes this work. Similar to other CAMP model elements, your input data can tell CAMP to create any number of <a class="el" href="camp_aero_phase.html">aerosol phases</a>. These are simply collections of species, like an "aqueous" phase that includes "water", "sulfate", "nitrate", etc. Condensed-phase and partitioning reactions must specify the aerosol phase they apply to. Thus, you could have a <a class="el" href="camp_rxn__h_l_phase_transfer.html">Henry's law phase transfer</a> reaction for nitric acid that applies to the "aqueous" phase.</p>
<p >The key to separating the chemistry from the host model's aerosol representation is that the chemistry is the same for every instance of a particular aerosol phase, but the number of instances of these phases, and the physical properties of the aerosols of which they are a part, are determined by the host model's aerosol representation. A description of this representation is provided by another <code>JSON</code> input object. This input data specifies not only the type and dimensions of the aerosol representation (e.g., the number and size of bins, or the number and shape of modes) but also which aerosol phases are associated with with which aerosol groups. Some examples of how different aerosol representations implement instances of the same set of aerosol phases in the CAMP state array are shown in <a class="el" href="camp_tutorial_part_0.html#bc0_fig_aero_reps">Fig. 4</a>.</p>
<div class="image">
<img src="modal_aero_rep.png" alt=""/>
</div>
 <div class="image">
<img src="binned_aero_rep.png" alt=""/>
</div>
 <div class="image">
<img src="single_particle_aero_rep.png" alt=""/>
</div>
<p> <a class="anchor" id="bc0_fig_aero_reps"></a>Fig. 4. How modal (top) binned (middle) and single-particle (bottom) aerosol representations might implement the same three aerosol phases.</p>
<p ><a class="anchor" id="bc0_ss_example"></a></p>
<h2><a class="anchor" id="autotoc_md20"></a>
How you might CAMP</h2>
<p >To demonstrate how CAMP functionality can be used in a real-world scenario, imagine you are a reasearch chemist who just discovered a new gas-phase reaction: </p><p class="formulaDsp">
\[\ce{
   A + OH -&gt; B
 }\]
</p>
<p> Species B can partition to an aqueous phase where it reacts with nitrate: </p><p class="formulaDsp">
\[\ce{
   B + NO3- -&gt; C
 }\]
</p>
<p> Species C can then repartition back to the gas-phase.</p>
<p >You first try this out in a box model running CAMP with a standard gas and aerosol phase mechansim by adding a single <code>JSON</code> file to the CAMP input file list. Your new file has three <a class="el" href="input_format_species.html">chemical species</a>, one <a class="el" href="camp_rxn_arrhenius.html">gas-phase Arrhenius</a> reaction, one <a class="el" href="camp_rxn__h_l_phase_transfer.html">Henry's law phase transfer</a> reaction, and one <a class="el" href="camp_rxn_condensed_phase_arrhenius.html">condensed-phase Arrhenius</a> reaction. The only modification to the existing mechanism input files you make is to add species C to the "aequeous" aerosol phase. You evaluate the model results and tweak the reaction parameters until you're able to fit your experimental results.</p>
<p >Next, you take your mechanism input files and run them in a <a href="https://github.com/compdyn/partmc">PartMC</a> particle-resolved urban plume scenario to evaluate the effects of mixing state on your newly discovered system. Then you try out your mechanism in the <a href="">MONARCH</a> chemical weather prediction system to see the regional and global scale impacts of your new chemistry. What is most important about this process, and what makes CAMP so unique, is that you use the <em>the</em> <em>same</em> <em>input</em> <em>files</em> in all three models and you never modify source code or recompile a model. Your chemistry is running in the exact same version of CAMP in all three models. If that doesn't make you want to try CAMPing, probably nothing will.</p>
<p >So lace-up your hiking boots and stay hydrated. It's time to start <a class="el" href="camp_tutorial_part_1.html">the first stage of Boot CAMP</a>!</p>
<hr  />
<p> <img src="icon_trail.png" alt="" class="inline"/> <a class="el" href="camp_tutorial.html">Index</a> <img src="icon_trail.png" alt="" class="inline" title="Next: "/> <a class="el" href="camp_tutorial_part_1.html">Boot CAMP: Part 1 - Box Model</a> <b> &gt; </b> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<hr class="footer"/><address class="footer"><small>
CAMP 1.0.0 documentation generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.9.4</small></address>
</body>
</html>
