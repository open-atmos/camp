<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CAMP: Boot CAMP: Part 2 - Mechanism</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js", "TeX/mhchem.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CAMP<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Chemistry Across Multiple Phases</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Boot CAMP: Part 2 - Mechanism </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >In the <a class="el" href="camp_tutorial_part_1.html">last installment of Boot CAMP</a> we wrote the code for a simple box model. This time we'll build a simple chemical mechanism to run in the box model.</p>
<p >All CAMP input files are in <a href="http://json.org">json</a> format, a widely used standard for structured data. Many free tools are available online to compose and validate <code>json</code> files, and many editors provide <code>json</code> syntax highlighting. If you are new to working with <code>json</code> files, we recommend writing the code in an online editor/validator like <a href="https://jsonlint.com">JSONLint</a>.</p>
<p >There are two types of input files used by CAMP. We'll start with the simplest one. This is the file whose path we passed to the <a class="el" href="structcamp__camp__core_1_1camp__core__t.html">camp_core_t()</a> constructor in <a class="el" href="camp_tutorial_part_1.html">part 1</a> of the tutorial. We named this file <code>my_config_file.json</code> and we'll make its contents as follows: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;camp-files&quot; : [</div>
<div class="line">    &quot;my_simple_mechanism.json&quot;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p> CAMP configuration <code>json</code> files begin and end with curly brackets ("{}") that enclose an object named <b>camp-files</b>, which is a comma-separated array of file names that make up the chemical mechanism to load into CAMP. The mechanism data can be organized however you like, into as many files as you'd like. Thus, any number of <b>camp-files</b> may be specified and the arrangement of mechanism elements (species, reactions, etc.) within those files is up to you. Also note that <code>json</code> ignores most white space, so the code above is equivalent to: </p><div class="fragment"><div class="line">{ &quot;camp-files&quot; :     [ &quot;my_simple_mechanism.json&quot; ]   }</div>
</div><!-- fragment --><p >One more note about the CAMP <code>json</code> files before we move on. CAMP ignores information in the input files that it is not interested in, as long as the file is in valid <code>json</code> format, and this information is not included as an element in an array CAMP uses. Thus, our configuration file could be: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;note&quot; : &quot;Remember to rename &#39;my simple mechanism&#39; to something more meaningful&quot;,</div>
<div class="line">  &quot;camp-files&quot; : [</div>
<div class="line">    &quot;my_simple_mechanism.json&quot;</div>
<div class="line">  ],</div>
<div class="line">  &quot;change log&quot; : [</div>
<div class="line">    &quot;030919 md - created file&quot;,</div>
<div class="line">    &quot;031019 md - revised file&quot;</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p> As far as CAMP is concerned, these files are equivalent. This is also a way to include comments in your <code>json</code> files, as comment flags are not part of the <code>json</code> standard. Note however that adding extra information as an element of the <b>camp-files</b> array (an array that CAMP uses) won't work, as CAMP expects these to be valid input file names.</p>
<p >The remaining CAMP input files describe the chemical mechanism and use the following format: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;camp-data&quot; : [</div>
<div class="line"> </div>
<div class="line">     ...</div>
<div class="line"> </div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p> Here, <b>camp-data</b> is a comma-separated array of model element objects. There can be any number of these input files, but they must all enclose their model elements with this text.</p>
<p >We'll start off wth a single file that describes our mechanism, <code>my_simple_mechanism.json</code>. The order of model elements in the <b>camp-data</b> array is arbitrary. We'll start with chemical species. In our first mechanism, we'll just have five: \(\ce{O3}\), \(\ce{NO}\), \(\ce{NO2}\), \(\ce{O2}\) and \(\ce{O}\). The input data for these gas-phase species in the <b>camp-data</b> array is: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;name&quot; : &quot;O3&quot;,</div>
<div class="line">  &quot;type&quot; : &quot;CHEM_SPEC&quot;</div>
<div class="line">},</div>
<div class="line">{</div>
<div class="line">  &quot;name&quot; : &quot;NO&quot;,</div>
<div class="line">  &quot;type&quot; : &quot;CHEM_SPEC&quot;</div>
<div class="line">},</div>
<div class="line">{</div>
<div class="line">  &quot;name&quot; : &quot;NO2&quot;,</div>
<div class="line">  &quot;type&quot; : &quot;CHEM_SPEC&quot;</div>
<div class="line">},</div>
<div class="line">{</div>
<div class="line">  &quot;name&quot; : &quot;O2&quot;,</div>
<div class="line">  &quot;type&quot; : &quot;CHEM_SPEC&quot;</div>
<div class="line">},</div>
<div class="line">{</div>
<div class="line">  &quot;name&quot; : &quot;O&quot;,</div>
<div class="line">  &quot;type&quot; : &quot;CHEM_SPEC&quot;</div>
<div class="line">},</div>
</div><!-- fragment --><p> All CAMP model elements must have a unique name that is chosen by the user and a type that must be one of a set of CAMP data types. For chemical species, this type is <code>CHEM_SPEC</code>. Chemical species default to being gas-phase species, but can be specified as being condensed-phase, as we'll see later on.</p>
<p >Now, let's build our mechanism. We'll start with just two Arrhenius-type reactions: </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;name&quot; : &quot;my simple mechanism&quot;,</div>
<div class="line">  &quot;type&quot; : &quot;MECHANISM&quot;,</div>
<div class="line">  &quot;reactions&quot; : [</div>
<div class="line">    {</div>
<div class="line">      &quot;type&quot; : &quot;ARRHENIUS&quot;,</div>
<div class="line">      &quot;reactants&quot; : {</div>
<div class="line">        &quot;NO&quot; : { },</div>
<div class="line">        &quot;O3&quot; : { }</div>
<div class="line">      },</div>
<div class="line">      &quot;products&quot; : {</div>
<div class="line">        &quot;NO2&quot; : { },</div>
<div class="line">        &quot;O2&quot; : { }</div>
<div class="line">      },</div>
<div class="line">      &quot;A&quot; : 26.59</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;type&quot; : &quot;PHOTOLYSIS&quot;,</div>
<div class="line">      &quot;reactants&quot; : {</div>
<div class="line">        &quot;NO2&quot; : { }</div>
<div class="line">      },</div>
<div class="line">     &quot;products&quot; : {</div>
<div class="line">       &quot;NO&quot; : { },</div>
<div class="line">       &quot;O&quot; : { }</div>
<div class="line">     },</div>
<div class="line">     &quot;my photo label&quot; : &quot;NO2 photolysis&quot;</div>
<div class="line">    },</div>
<div class="line">    {</div>
<div class="line">      &quot;type&quot; : &quot;ARRHENIUS&quot;,</div>
<div class="line">      &quot;reactants&quot; : {</div>
<div class="line">        &quot;O&quot; : { },</div>
<div class="line">        &quot;O2&quot; : { }</div>
<div class="line">      },</div>
<div class="line">      &quot;products&quot; : {</div>
<div class="line">        &quot;O3&quot; : { }</div>
<div class="line">      },</div>
<div class="line">      &quot;A&quot; : 2.183E-5</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p> CAMP <b>MECHANISM</b> objects are collections of reactions, which are specified in the <b>reactions</b> array. For each reaction several elements must be specified. For Arrhenius-like reactions, these include the <b>reactants</b> and <b>products</b>, as well as the pre-exponential factor <b>A</b>. They also typically have some optional parameters, which assume default values unless they are specified in the input files. A description of the format used for each reaction's input data is described <a class="el" href="camp_rxn.html">here</a>. The empty curly brackets after the products and reactants allow for the inclusion of information specific to these species, such as reactant quantities (for self reactions) and product yields. For Arrhenius-like reactions, these are described in more detail <a class="el" href="camp_rxn_arrhenius.html">here</a>.</p>
<p >The only key-value pair not required by CAMP, but that is present in this input data is <b>my photo label</b> in the \(\ce{NO2}\) photolysis reaction. We'll use this label in <a class="el" href="camp_tutorial_part_3.html">part 3 of Boot CAMP</a> to set the photolysis rate from our box model, and start generating results!</p>
<p >The full configuration and mechanism <code>json</code> files described in the part of the tutorial can be found in <code>/doc/camp_tutorial/boot_camp/part_2_code</code>.</p>
<hr  />
<p> <b> &lt; Previous: </b> <a class="el" href="camp_tutorial_part_1.html">Boot CAMP: Part 1 - Box Model</a> <img src="icon_trail.png" alt="" class="inline"/> <a class="el" href="camp_tutorial.html">Index</a> <img src="icon_trail.png" alt="" class="inline"/> <b> Next: </b> <a class="el" href="camp_tutorial_part_3.html">Boot CAMP: Part 3 - Updating CAMP Parameters</a> <b> &gt; </b> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<hr class="footer"/><address class="footer"><small>
CAMP 1.0.0 documentation generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.9.5</small></address>
</body>
</html>
